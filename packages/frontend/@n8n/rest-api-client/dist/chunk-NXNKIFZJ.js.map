{"version":3,"sources":["../src/api/sso.ts"],"sourcesContent":["import type { OidcConfigDto, SamlPreferences, SamlToggleDto } from '@n8n/api-types';\n\nimport type { IRestApiContext } from '../types';\nimport { makeRestApiRequest } from '../utils';\n\nexport type SamlPreferencesExtractedData = {\n\tentityID: string;\n\treturnUrl: string;\n};\n\nexport const initSSO = async (context: IRestApiContext, redirectUrl = ''): Promise<string> => {\n\treturn await makeRestApiRequest(context, 'GET', `/sso/saml/initsso?redirect=${redirectUrl}`);\n};\n\nexport const getSamlMetadata = async (context: IRestApiContext): Promise<SamlPreferences> => {\n\treturn await makeRestApiRequest(context, 'GET', '/sso/saml/metadata');\n};\n\nexport const getSamlConfig = async (\n\tcontext: IRestApiContext,\n): Promise<SamlPreferences & SamlPreferencesExtractedData> => {\n\treturn await makeRestApiRequest(context, 'GET', '/sso/saml/config');\n};\n\nexport const saveSamlConfig = async (\n\tcontext: IRestApiContext,\n\tdata: Partial<SamlPreferences>,\n): Promise<SamlPreferences | undefined> => {\n\treturn await makeRestApiRequest(context, 'POST', '/sso/saml/config', data);\n};\n\nexport const toggleSamlConfig = async (\n\tcontext: IRestApiContext,\n\tdata: SamlToggleDto,\n): Promise<void> => {\n\treturn await makeRestApiRequest(context, 'POST', '/sso/saml/config/toggle', data);\n};\n\nexport const testSamlConfig = async (context: IRestApiContext): Promise<string> => {\n\treturn await makeRestApiRequest(context, 'GET', '/sso/saml/config/test');\n};\n\nexport const getOidcConfig = async (context: IRestApiContext): Promise<OidcConfigDto> => {\n\treturn await makeRestApiRequest(context, 'GET', '/sso/oidc/config');\n};\n\nexport const saveOidcConfig = async (\n\tcontext: IRestApiContext,\n\tdata: OidcConfigDto,\n): Promise<OidcConfigDto> => {\n\treturn await makeRestApiRequest(context, 'POST', '/sso/oidc/config', data);\n};\n\nexport const initOidcLogin = async (context: IRestApiContext): Promise<string> => {\n\treturn await makeRestApiRequest(context, 'GET', '/sso/oidc/login');\n};\n"],"mappings":";;;;;AAUO,IAAM,UAAU,OAAO,SAA0B,cAAc,OAAwB;AAC7F,SAAO,MAAM,mBAAmB,SAAS,OAAO,8BAA8B,WAAW,EAAE;AAC5F;AAEO,IAAM,kBAAkB,OAAO,YAAuD;AAC5F,SAAO,MAAM,mBAAmB,SAAS,OAAO,oBAAoB;AACrE;AAEO,IAAM,gBAAgB,OAC5B,YAC6D;AAC7D,SAAO,MAAM,mBAAmB,SAAS,OAAO,kBAAkB;AACnE;AAEO,IAAM,iBAAiB,OAC7B,SACA,SAC0C;AAC1C,SAAO,MAAM,mBAAmB,SAAS,QAAQ,oBAAoB,IAAI;AAC1E;AAEO,IAAM,mBAAmB,OAC/B,SACA,SACmB;AACnB,SAAO,MAAM,mBAAmB,SAAS,QAAQ,2BAA2B,IAAI;AACjF;AAEO,IAAM,iBAAiB,OAAO,YAA8C;AAClF,SAAO,MAAM,mBAAmB,SAAS,OAAO,uBAAuB;AACxE;AAEO,IAAM,gBAAgB,OAAO,YAAqD;AACxF,SAAO,MAAM,mBAAmB,SAAS,OAAO,kBAAkB;AACnE;AAEO,IAAM,iBAAiB,OAC7B,SACA,SAC4B;AAC5B,SAAO,MAAM,mBAAmB,SAAS,QAAQ,oBAAoB,IAAI;AAC1E;AAEO,IAAM,gBAAgB,OAAO,YAA8C;AACjF,SAAO,MAAM,mBAAmB,SAAS,OAAO,iBAAiB;AAClE;","names":[]}