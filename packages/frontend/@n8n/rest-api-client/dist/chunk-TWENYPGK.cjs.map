{"version":3,"sources":["/home/mayeul/projects/n8n/packages/frontend/@n8n/rest-api-client/dist/chunk-TWENYPGK.cjs","../src/api/eventbus.ee.ts"],"names":[],"mappings":"AAAA;AACE;AACF,wDAA6B;AAC7B;AACA;ACKO,SAAS,gBAAA,CACf,WAAA,EACsD;AACtD,EAAA,OAAO,WAAA,CAAY,GAAA,IAAO,KAAA,CAAA;AAC3B;AAEA,MAAA,SAAsB,mBAAA,CACrB,OAAA,EACA,WAAA,EACA,iBAAA,EAA6B,CAAC,CAAA,EAC7B;AACD,EAAA,MAAM,KAAA,EAAoB;AAAA,IACzB,GAAG,WAAA;AAAA,IACH;AAAA,EACD,CAAA;AACA,EAAA,OAAO,MAAM,kDAAA,OAAmB,EAAS,MAAA,EAAQ,uBAAA,EAAyB,IAAI,CAAA;AAC/E;AAEA,MAAA,SAAsB,uBAAA,CAAwB,OAAA,EAA0B,aAAA,EAAuB;AAC9F,EAAA,OAAO,MAAM,kDAAA,OAAmB,EAAS,QAAA,EAAU,CAAA,yBAAA,EAA4B,aAAa,CAAA,CAAA;AAC7F;AAKoB;AACO,EAAA;AACtB,IAAA;AACJ,EAAA;AAC6E,EAAA;AAC9E;AAE4F;AACrB,EAAA;AACvE;AAIgD;AACwB,EAAA;AACxE;ADnB+F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"/home/mayeul/projects/n8n/packages/frontend/@n8n/rest-api-client/dist/chunk-TWENYPGK.cjs","sourcesContent":[null,"import type { IDataObject, MessageEventBusDestinationOptions } from 'n8n-workflow';\n\nimport type { IRestApiContext } from '../types';\nimport { makeRestApiRequest } from '../utils';\n\nexport type ApiMessageEventBusDestinationOptions = MessageEventBusDestinationOptions & {\n\tid: string;\n};\n\nexport function hasDestinationId(\n\tdestination: MessageEventBusDestinationOptions,\n): destination is ApiMessageEventBusDestinationOptions {\n\treturn destination.id !== undefined;\n}\n\nexport async function saveDestinationToDb(\n\tcontext: IRestApiContext,\n\tdestination: ApiMessageEventBusDestinationOptions,\n\tsubscribedEvents: string[] = [],\n) {\n\tconst data: IDataObject = {\n\t\t...destination,\n\t\tsubscribedEvents,\n\t};\n\treturn await makeRestApiRequest(context, 'POST', '/eventbus/destination', data);\n}\n\nexport async function deleteDestinationFromDb(context: IRestApiContext, destinationId: string) {\n\treturn await makeRestApiRequest(context, 'DELETE', `/eventbus/destination?id=${destinationId}`);\n}\n\nexport async function sendTestMessageToDestination(\n\tcontext: IRestApiContext,\n\tdestination: ApiMessageEventBusDestinationOptions,\n): Promise<boolean> {\n\tconst data: IDataObject = {\n\t\t...destination,\n\t};\n\treturn await makeRestApiRequest(context, 'GET', '/eventbus/testmessage', data);\n}\n\nexport async function getEventNamesFromBackend(context: IRestApiContext): Promise<string[]> {\n\treturn await makeRestApiRequest(context, 'GET', '/eventbus/eventnames');\n}\n\nexport async function getDestinationsFromBackend(\n\tcontext: IRestApiContext,\n): Promise<MessageEventBusDestinationOptions[]> {\n\treturn await makeRestApiRequest(context, 'GET', '/eventbus/destination');\n}\n"]}