{"version":3,"sources":["../src/useShortKeyPress.ts"],"sourcesContent":["import { onKeyDown, onKeyUp } from '@vueuse/core';\nimport type { KeyFilter } from '@vueuse/core';\nimport { ref, unref } from 'vue';\nimport type { MaybeRefOrGetter } from 'vue';\n\nexport function useShortKeyPress(\n\tkey: KeyFilter,\n\tfn: () => void,\n\t{\n\t\tdedupe = true,\n\t\tthreshold = 300,\n\t\tdisabled = false,\n\t}: {\n\t\tdedupe?: boolean;\n\t\tthreshold?: number;\n\t\tdisabled?: MaybeRefOrGetter<boolean>;\n\t},\n) {\n\tconst keyDownTime = ref<number | null>(null);\n\n\tonKeyDown(\n\t\tkey,\n\t\t() => {\n\t\t\tif (unref(disabled)) return;\n\n\t\t\tkeyDownTime.value = Date.now();\n\t\t},\n\t\t{\n\t\t\tdedupe,\n\t\t},\n\t);\n\n\tonKeyUp(key, () => {\n\t\tif (unref(disabled) || !keyDownTime.value) return;\n\n\t\tconst isShortPress = Date.now() - keyDownTime.value < threshold;\n\t\tif (isShortPress) {\n\t\t\tfn();\n\t\t}\n\t});\n}\n"],"mappings":";AAAA,SAAS,WAAW,eAAe;AAEnC,SAAS,KAAK,aAAa;AAGpB,SAAS,iBACf,KACA,IACA;AAAA,EACC,SAAS;AAAA,EACT,YAAY;AAAA,EACZ,WAAW;AACZ,GAKC;AACD,QAAM,cAAc,IAAmB,IAAI;AAE3C;AAAA,IACC;AAAA,IACA,MAAM;AACL,UAAI,MAAM,QAAQ,EAAG;AAErB,kBAAY,QAAQ,KAAK,IAAI;AAAA,IAC9B;AAAA,IACA;AAAA,MACC;AAAA,IACD;AAAA,EACD;AAEA,UAAQ,KAAK,MAAM;AAClB,QAAI,MAAM,QAAQ,KAAK,CAAC,YAAY,MAAO;AAE3C,UAAM,eAAe,KAAK,IAAI,IAAI,YAAY,QAAQ;AACtD,QAAI,cAAc;AACjB,SAAG;AAAA,IACJ;AAAA,EACD,CAAC;AACF;","names":[]}